import{w as e}from"./withConfigTransport.js";import o from"./index28.js";import{defineComponent as l,shallowRef as a,computed as t,resolveComponent as s,mergeProps as r}from"vue";import{u as d}from"./color-config.js";import{u as n}from"./useKeyboardOnlyFocus.js";import{a as c}from"./useAccordion.js";import{u as i}from"./useSyncProp.js";import{u}from"./useTextColor.js";import{ssrRenderAttrs as p,ssrRenderAttr as m,ssrRenderSlot as v,ssrRenderStyle as f,ssrRenderComponent as y,ssrInterpolate as g}from"@vue/server-renderer";import"./VaConfig.js";import"./global-config.js";import"./VaIcon.js";import"./isSymbol.js";import"./flatten.js";import"./useSize.js";import"colortranslator";var b=l({name:"VaCollapse",components:{VaIcon:o},props:{modelValue:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},header:{type:String,default:""},icon:{type:String,default:""},solid:{type:Boolean,default:!1},color:{type:String,default:"background"},textColor:{type:String,default:""},colorAll:{type:Boolean,default:!1}},emits:["focus","update:modelValue"],setup(e,{emit:o,slots:l}){const s=a(null),[r]=i("modelValue",e,o,!1),{getColor:p,getHoverColor:m}=d(),{accordionProps:v,toggle:f}=c(r),{textColorComputed:y}=u(e.color),getNodeHeight=e=>"#text"===e.nodeName?(e=>{const o=document.createRange();o.selectNodeContents(e);const l=o.getBoundingClientRect();return l.bottom-l.top})(e):"#comment"===e.nodeName?0:e.clientHeight,g=t((()=>{if(!r.value||!s.value)return 0;return Array.from(s.value.childNodes).reduce(((e,o)=>e+getNodeHeight(o)),0)})),{hasKeyboardFocus:b,keyboardFocusListeners:_}=n(),getTransition=()=>{const e=g.value/1e3*.2;return`${e>.2?e:.2}s`};return{body:s,height:g,toggle:f,computedModelValue:r,hasKeyboardFocus:b,keyboardFocusListeners:_,textColorComputed:y,computedClasses:t((()=>({"va-collapse--disabled":e.disabled,"va-collapse--solid":e.solid,"va-collapse--active":e.solid&&r.value,"va-collapse--popout":v.value.popout&&r.value,"va-collapse--inset":v.value.inset&&r.value}))),headerStyle:t((()=>({paddingLeft:e.icon&&0,color:y.value,backgroundColor:e.color?p(e.color):"",boxShadow:b.value?"0 0 0.5rem 0 rgba(0, 0, 0, 0.3)":""}))),contentStyle:t((()=>{var o;const a=r.value&&!!(null===(o=l.default)||void 0===o?void 0:o.call(l)[0]);return{visibility:a?"visible":"hidden",height:`${g.value}px`,transitionDuration:getTransition(),background:a&&e.color&&e.colorAll?m(p(e.color)):""}}))}}});b.ssrRender=function ssrRender(e,o,l,a,t,d,n,c){const i=s("va-icon");o(`<div${p(r({class:["va-collapse",e.computedClasses]},a))}><div class="va-collapse__header"${m("tabindex",e.disabled?-1:0)}>`),v(e.$slots,"header",{value:e.computedModelValue,hasKeyboardFocus:e.hasKeyboardFocus},(()=>{o(`<div class="va-collapse__header__content" style="${f(e.headerStyle)}">`),e.icon?o(y(i,{class:"va-collapse__header__icon",name:e.icon,color:e.textColorComputed},null,l)):o("\x3c!----\x3e"),o(`<div class="va-collapse__header__text">${g(e.header)}</div>`),o(y(i,{class:"va-collapse__header__icon",name:e.computedModelValue?"expand_less":"expand_more",color:e.textColorComputed},null,l)),o("</div>")}),o,l),o(`</div><div class="va-collapse__body" style="${f(e.contentStyle)}">`),v(e.$slots,"default",{},null,o,l),o("</div></div>")},b.__file="src/components/va-collapse/VaCollapse.vue";var _=e(b);export{_ as default};
//# sourceMappingURL=index17.js.map
