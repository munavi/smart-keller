import{w as e}from"./withConfigTransport.js";import{defineComponent as t,computed as a,onMounted as l,resolveComponent as o,mergeProps as s,withCtx as r,createVNode as i,openBlock as u,createBlock as d,Fragment as p,renderList as m,renderSlot as n}from"vue";import{p as c}from"./pick.js";import{g as V}from"./utils.js";import{_ as f}from"./global-utils.js";import{u as b,a as y}from"./useSelectableList.js";import{b as g,a as x}from"./index66.js";import{u as j,a as v,b as T}from"./useStateful.js";import{u as R}from"./useArrayRefs.js";import $ from"./index15.js";import k from"./index40.js";import D from"./index45.js";import{s as S}from"./VaMessageListWrapper.js";import{ssrRenderComponent as h,ssrRenderList as A,ssrRenderSlot as I}from"@vue/server-renderer";import"./VaConfig.js";import"./global-config.js";import"./VaIcon.js";import"./isSymbol.js";import"./flatten.js";import"./color-config.js";import"colortranslator";import"./useSize.js";import"./useSyncProp.js";import"./consts.js";import"./useFocus.js";import"./useColor.js";import"./index28.js";import"./useKeyboardOnlyFocus.js";import"./useSelectable.js";import"./useLoading.js";import"./useTextColor.js";import"./useForm.js";import"./index39.js";import"./clamp.js";import"./toNumber.js";var L=t({name:"VaOptionList",components:{VaRadio:k,VaCheckbox:$,VaSwitch:D,VaMessageListWrapper:S},emits:[...j],props:{...b,...g,...v,type:{type:String,default:"checkbox",validator:e=>["radio","checkbox","switch"].includes(e)},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},defaultValue:{type:[String,Number,Object,Array]},name:{type:String,default:V},color:{type:String,default:"primary"},leftLabel:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array]}},setup(e,{emit:t}){const{valueComputed:o}=T(e,t,e.defaultValue),{getValue:s,getText:r,getTrackBy:i,getDisabled:u}=y(e),{itemRefs:d,setItemRef:p}=R(),m=a((()=>"radio"===e.type)),n=a({get(){const e=m.value?null:[];return o.value||e},set(t){e.readonly||(m.value&&!Array.isArray(t)?o.value=t?s(t):t:o.value=Array.isArray(t)?t.map(s):[t?s(t):t])}}),reset=()=>{o.value=void 0},focus=()=>{const e=Array.isArray(d.value)&&d.value.find((e=>!e.disabled));e&&"function"==typeof e.focus&&e.focus()},{computedError:V,computedErrorMessages:b}=x(e,t,reset,focus),g=a((()=>c(e,["name","color","readonly","leftLabel"])));return l((()=>{f&&"radio"!==e.type&&!Array.isArray(e.modelValue)&&console.warn(`Prop 'modelValue = ${e.modelValue}' has not a proper type!\n For component property 'type = ${e.type}' it must be of type 'array'.`)})),{selectedValue:n,computedError:V,computedErrorMessages:b,getValue:s,getText:r,getKey:e=>i(e),isDisabled:t=>e.disabled||u(t),reset:reset,focus:focus,setItemRef:p,computedProps:g}}});L.ssrRender=function ssrRender(e,t,a,l,c,V,f,b){const y=o("VaMessageListWrapper"),g=o("va-radio"),x=o("va-checkbox"),j=o("va-switch");t(h(y,s({error:e.computedError,"error-messages":e.computedErrorMessages,"error-count":e.$props.errorCount},l),{default:r(((t,a,l,o)=>{if(!a)return[i("ul",{class:"va-option-list__list"},[(u(!0),d(p,null,m(e.$props.options,((t,a)=>(u(),d("li",{key:e.getKey(t)},[n(e.$slots,"default",{option:t,selectedValue:e.selectedValue,index:a,isDisabled:e.isDisabled,getText:e.getText,getValue:e.getValue},(()=>["radio"===e.$props.type?(u(),d(g,s({key:0,ref:e.setItemRef,modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),option:e.getValue(t),tabindex:a},e.computedProps),null,16,["modelValue","onUpdate:modelValue","label","disabled","option","tabindex"])):"checkbox"===e.$props.type?(u(),d(x,s({key:1,ref:e.setItemRef,modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"array-value":e.getValue(t)},e.computedProps),null,16,["modelValue","onUpdate:modelValue","label","disabled","array-value"])):(u(),d(j,s({key:2,ref:e.setItemRef,modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"array-value":e.getValue(t)},e.computedProps),null,16,["modelValue","onUpdate:modelValue","label","disabled","array-value"]))]))])))),128))])];a(`<ul class="va-option-list__list"${o}>\x3c!--[--\x3e`),A(e.$props.options,((t,r)=>{a(`<li${o}>`),I(e.$slots,"default",{option:t,selectedValue:e.selectedValue,index:r,isDisabled:e.isDisabled,getText:e.getText,getValue:e.getValue},(()=>{"radio"===e.$props.type?a(h(g,s({ref:e.setItemRef,modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),option:e.getValue(t),tabindex:r},e.computedProps),null,l,o)):"checkbox"===e.$props.type?a(h(x,s({ref:e.setItemRef,modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"array-value":e.getValue(t)},e.computedProps),null,l,o)):a(h(j,s({ref:e.setItemRef,modelValue:e.selectedValue,"onUpdate:modelValue":t=>e.selectedValue=t,label:e.getText(t),disabled:e.isDisabled(t),"array-value":e.getValue(t)},e.computedProps),null,l,o))}),a,l,o),a("</li>")})),a("\x3c!--]--\x3e</ul>")})),_:3},a))},L.__file="src/components/va-option-list/VaOptionList.vue";var P=e(L);export{P as default};
//# sourceMappingURL=index50.js.map
