import{w as e}from"./withConfigTransport.js";import{ref as a,watch as t,onMounted as o,onBeforeUnmount as l,unref as i,defineComponent as s,reactive as n,computed as r,provide as u,resolveComponent as v,mergeProps as d,withCtx as c,createVNode as b,renderSlot as p,inject as m,resolveDynamicComponent as f,toHandlers as g,withKeys as h,openBlock as _,createBlock as y,createCommentVNode as S,toDisplayString as C}from"vue";import T from"./index9.js";import{a as x,b as P}from"./useStateful.js";import{a as k}from"./useColor.js";import{V as w}from"./VaConfig.js";import{ssrRenderAttrs as $,ssrRenderComponent as j,ssrRenderClass as V,ssrRenderStyle as L,ssrRenderSlot as F,ssrRenderVNode as R,ssrRenderAttr as A,ssrInterpolate as I}from"@vue/server-renderer";import B from"./index28.js";import{u as z,a as K}from"./useRouterLink.js";import{u as E}from"./useKeyboardOnlyFocus.js";import"./global-config.js";import"./VaButton.js";import"./useTextColor.js";import"./color-config.js";import"colortranslator";import"./useSize.js";import"./useLoading.js";import"./index39.js";import"./clamp.js";import"./toNumber.js";import"./isSymbol.js";import"./VaIcon.js";import"./flatten.js";const O=Symbol("TabsView"),getClientWidth=e=>(null==e?void 0:e.clientWidth)||0;var X=s({name:"VaTabs",components:{VaButton:T,VaConfig:w},emits:["update:modelValue","click:next","click:prev"],props:{...x,modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"chevron_left"},nextIcon:{type:String,default:"chevron_right"}},setup:(e,{emit:s})=>{const v=a(),d=a(),c=a(),b=a([]),p=a(null),m=a(null),f=a(0),g=a(0),h=a(!1),_=a(0),y=a(0),S=a(!1),{colorComputed:C}=k(e),{valueComputed:T}=P(e,s),x=n({VaTab:{color:e.color}}),w=r((()=>{const{left:a,right:t,center:o,grow:l,disabled:i}=e;return{"va-tabs__container--left":a&&!t&&!o&&!l,"va-tabs__container--right":t,"va-tabs__container--center":o,"va-tabs__container--grow":l,"va-tabs__container--disabled":i}})),$=r((()=>({"va-tabs--vertical":e.vertical}))),j=r((()=>e.hideSlider?{display:"none"}:{backgroundColor:C.value,height:e.vertical?`${p.value}px`:"",width:e.vertical?"":`${m.value}px`,transform:`translateY(-${g.value}px) translateX(${f.value}px)`,transition:S.value?"var(--va-tabs-slider-wrapper-transition)":""})),V=r((()=>e.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${y.value-_.value}px)`,transition:S.value?"var(--va-tabs-slider-transition)":""})),L=r((()=>0===_.value)),F=r((()=>{const e=b.value[b.value.length-1],a=i(e.leftSidePosition),t=i(e.rightSidePosition),o=getClientWidth(d.value);return t<=_.value+o||a<=_.value})),resetSliderSizes=()=>{m.value=0,p.value=0},moveToTab=e=>{const a=getClientWidth(d.value),t=getClientWidth(c.value),o=i(e.leftSidePosition),l=i(e.rightSidePosition);h.value&&o+a<=t?_.value=o:h.value&&l>=a?_.value=l-a:_.value=0},updateStartingXPoint=()=>{if(y.value=0,!h.value)return;const a=getClientWidth(d.value),t=getClientWidth(c.value);e.right?y.value=t-a:e.center&&(y.value=Math.floor((t-a)/2))},updateTabsState=()=>{resetSliderSizes(),b.value.forEach((e=>{var a;e.updateSidePositions();const t=((null===(a=e.name)||void 0===a?void 0:a.value)||e.id)===T.value;e.isActive=e.isActiveRouterLink||t,e.isActive&&(moveToTab(e),updateSlider(e))}));const e=getClientWidth(d.value),a=getClientWidth(c.value);_.value+e>a&&b.value&&moveToTab(b.value[0]),updateStartingXPoint()},updatePagination=()=>{const e=getClientWidth(c.value),a=getClientWidth(v.value);h.value=!!(c.value&&v.value&&e>a)},updateSlider=a=>{var t;const o=i(a.tabElement),l=(null==o?void 0:o.offsetTop)||0,s=(null==o?void 0:o.offsetLeft)||0,n=(null==o?void 0:o.clientHeight)||0,r=(null==o?void 0:o.clientWidth)||0;if(e.vertical){const e=((null===(t=d.value)||void 0===t?void 0:t.clientHeight)||0)-l-n;g.value=Math.max(e,0),p.value=n,f.value=0,m.value=0}else f.value=s,m.value=r,g.value=0,p.value=0},includeAnimation=()=>{S.value||requestAnimationFrame((()=>{S.value=!0}))},redrawTabs=()=>{const e=h.value;updatePagination(),e===h.value?(updateTabsState(),includeAnimation()):requestAnimationFrame((()=>{updateTabsState(),includeAnimation()}))},selectTab=a=>{var t;a&&(T.value=(null===(t=a.name)||void 0===t?void 0:t.value)||a.id,e.stateful&&updateTabsState())};u(O,{parentDisabled:e.disabled,selectTab:selectTab,moveToTab:moveToTab,registerTab:e=>{var a;const t=b.value.push(e)-1;e.id=(null===(a=e.name)||void 0===a?void 0:a.value)||t},unregisterTab:e=>{b.value=b.value.filter((a=>a.id!==e.id)),b.value.forEach(((e,a)=>{var t;e.id=(null===(t=e.name)||void 0===t?void 0:t.value)||a}))}}),t((()=>e.modelValue),updateTabsState);const R=((e,s)=>{const n=a(),observeAll=e=>{e.forEach((e=>{var a;const t=i(e);t&&(null===(a=n.value)||void 0===a||a.observe(t))}))};return t(e,(e=>{var a;null===(a=n.value)||void 0===a||a.disconnect(),observeAll(e)})),o((()=>{n.value=new ResizeObserver(s),observeAll(e)})),l((()=>{var e;return null===(e=n.value)||void 0===e?void 0:e.disconnect()})),n})([v,c],redrawTabs);return{wrapper:v,container:d,tabs:c,tabsList:b,sliderHeight:p,sliderWidth:m,sliderOffsetX:f,sliderOffsetY:g,showPagination:h,tabsContentOffset:_,resizeObserver:R,startingXPoint:y,animationIncluded:S,colorComputed:C,tabConfig:x,computedClass:w,computedTabsClass:$,tabSelected:T,sliderStyles:j,paginationControlledStyles:V,disablePaginationLeft:L,disablePaginationRight:F,resetSliderSizes:resetSliderSizes,moveToTab:moveToTab,updateStartingXPoint:updateStartingXPoint,updateTabsState:updateTabsState,updatePagination:updatePagination,movePaginationLeft:()=>{var e,a;const t=getClientWidth(d.value);let o=_.value-t;if(b.value)for(let t=0;t<b.value.length-1;t++){const l=i(null===(e=b.value[t])||void 0===e?void 0:e.leftSidePosition),s=i(null===(a=b.value[t+1])||void 0===a?void 0:a.leftSidePosition);if(l>o&&l<_.value||s>=_.value){o=l;break}}_.value=Math.max(0,o),s("click:prev")},movePaginationRight:()=>{var e;const a=getClientWidth(d.value),t=_.value+a;let o=t;if(b.value)for(let e=0;e<b.value.length-1;e++){if(i(b.value[e].rightSidePosition)>t&&(o=i(b.value[e].leftSidePosition),_.value<o))break}const l=i(null===(e=b.value[b.value.length-1])||void 0===e?void 0:e.rightSidePosition)-a;o=Math.min(l,o),_.value=Math.max(0,o),s("click:next")},updateSlider:updateSlider,includeAnimation:includeAnimation,redrawTabs:redrawTabs,selectTab:selectTab}}});X.ssrRender=function ssrRender$1(e,a,t,o,l,i,s,n){const r=v("va-button"),u=v("va-config");a(`<div${$(d({class:["va-tabs",e.computedTabsClass]},o))}><div class="va-tabs__wrapper">`),e.showPagination?a(j(r,{disabled:e.disablePaginationLeft,class:"va-tabs__pagination",color:e.color,flat:"",size:"medium",icon:e.$props.prevIcon},null,t)):a("\x3c!----\x3e"),a(`<div class="${V([e.computedClass,"va-tabs__container"])}"><div class="va-tabs__tabs" style="${L(e.paginationControlledStyles)}"><div class="va-tabs__slider-wrapper" style="${L(e.sliderStyles)}"><div class="va-tabs__slider"></div></div>`),a(j(u,{components:e.tabConfig},{default:c(((a,t,o,l)=>{if(!t)return[b("div",{class:"va-tabs__tabs-items"},[p(e.$slots,"tabs")])];t(`<div class="va-tabs__tabs-items"${l}>`),F(e.$slots,"tabs",{},null,t,o,l),t("</div>")})),_:3},t)),a("</div></div>"),e.showPagination?a(j(r,{disabled:e.disablePaginationRight,class:"va-tabs__pagination",color:e.color,flat:"",size:"medium",icon:e.$props.nextIcon},null,t)):a("\x3c!----\x3e"),a('</div><div class="va-tabs__content">'),F(e.$slots,"default",{},null,a,t),a("</div></div>")},X.__file="src/components/va-tabs/VaTabs.vue";var M=s({name:"VaTab",components:{VaIcon:B},emits:["click","keydown-enter","focus"],props:{...z,color:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean},name:{type:[String,Number]},tag:{type:String,default:"div"}},setup:(e,{emit:t})=>{const i=a(),s=a(!1),n=a(!1),u=a(0),v=a(0),{hasKeyboardFocus:d,keyboardFocusListeners:c}=E(),{tagComputed:b,hrefComputed:p,isActiveRouterLink:f}=K(e),{colorComputed:g}=k(e),h=r((()=>({"va-tab--disabled":e.disabled}))),{parentDisabled:_,selectTab:y,moveToTab:S,registerTab:C,unregisterTab:T}=m(O,{parentDisabled:!1,tabsList:[],selectTab:e=>e,moveToTab:e=>e,registerTab:e=>e,unregisterTab:e=>e}),x=r((()=>e.disabled||_?-1:0)),P=r((()=>({color:d.value||n.value||s.value?g.value:"inherit"}))),updateSidePositions=()=>{var e,a;const t=(null===(e=i.value)||void 0===e?void 0:e.offsetLeft)||0,o=(null===(a=i.value)||void 0===a?void 0:a.offsetWidth)||0;u.value=t+o,v.value=t},onTabClick=()=>{y(w),t("click")},onTabKeydown=()=>{y(w),t("keydown-enter")},onFocus=()=>{d.value&&S(w),t("focus")},w={name:r((()=>e.name)),id:null,tabElement:i,isActive:s,tabIndexComputed:x,isActiveRouterLink:f,rightSidePosition:u,leftSidePosition:v,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus,updateSidePositions:updateSidePositions};return o((()=>{C(w)})),l((()=>{T(w)})),{tabElement:i,isActive:s,hoverState:n,hasKeyboardFocus:d,keyboardFocusListeners:c,tagComputed:b,hrefComputed:p,isActiveRouterLink:f,colorComputed:g,classComputed:h,computedStyle:P,tabIndexComputed:x,rightSidePosition:u,leftSidePosition:v,updateHoverState:e=>{n.value=e},updateSidePositions:updateSidePositions,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus}}});M.ssrRender=function ssrRender(e,a,t,o,l,i,s,n){const r=v("va-icon");R(a,b(f(e.tagComputed),d({class:["va-tab",e.classComputed],ref:"tabElement",href:e.hrefComputed,target:e.target,to:e.to,replace:e.replace,exact:e.exact,"active-class":e.activeClass,"exact-active-class":e.exactActiveClass,style:e.computedStyle},o),{default:c(((a,t,o,l)=>{if(!t)return[b("div",d({class:"va-tab__content"},g(e.keyboardFocusListeners),{tabindex:e.tabIndexComputed,onFocus:a=>e.onFocus(),onClick:a=>e.onTabClick(),onKeydown:h((a=>e.onTabKeydown()),["enter"])}),[p(e.$slots,"default",{},(()=>[e.icon?(_(),y(r,{key:0,class:"va-tab__icon",name:e.icon,size:"small"},null,8,["name"])):S("v-if",!0),b("span",{class:"va-tab__label",textContent:C(e.label)},null,8,["textContent"])]))],16,["tabindex","onFocus","onClick","onKeydown"])];t(`<div class="va-tab__content"${A("tabindex",e.tabIndexComputed)}${l}>`),F(e.$slots,"default",{},(()=>{e.icon?t(j(r,{class:"va-tab__icon",name:e.icon,size:"small"},null,o,l)):t("\x3c!----\x3e"),t(`<span class="va-tab__label"${l}>${I(e.label)}</span>`)}),t,o,l),t("</div>")})),_:3}),t)},M.__file="src/components/va-tabs/VaTab/VaTab.vue";var H=e(M),W=e(X);export{H as VaTab,W as default};
//# sourceMappingURL=index46.js.map
