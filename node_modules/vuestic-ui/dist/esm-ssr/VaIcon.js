import{defineComponent as e,computed as n,createVNode as t,resolveDynamicComponent as r,mergeProps as o,withCtx as a,renderSlot as i,openBlock as c,createBlock as s,Fragment as u,createTextVNode as l,toDisplayString as f,createCommentVNode as p}from"vue";import{i as v,_ as m,b as g,d,e as h,f as $,h as y,j as b,k as S,g as C,l as x}from"./global-config.js";import{i as w}from"./isSymbol.js";import{f as z}from"./flatten.js";import{u as j}from"./color-config.js";import{u as E,a as R}from"./useSize.js";import{ssrRenderVNode as A,ssrRenderSlot as I,ssrInterpolate as k}from"@vue/server-renderer";var T=function arrayMap$2(e,n){for(var t=-1,r=null==e?0:e.length,o=Array(r);++t<r;)o[t]=n(e[t],t,e);return o},_=v,F=w,O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/;var B=function isKey$1(e,n){if(_(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!F(e))||(P.test(e)||!O.test(e)||null!=n&&e in Object(n))},K=m;function memoize$1(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var memoized=function(){var t=arguments,r=n?n.apply(this,t):t[0],o=memoized.cache;if(o.has(r))return o.get(r);var a=e.apply(this,t);return memoized.cache=o.set(r,a)||o,a};return memoized.cache=new(memoize$1.Cache||K),memoized}memoize$1.Cache=K;var U=memoize$1;var V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/\\(\\)?/g,M=function memoizeCapped$1(e){var n=U(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(V,(function(e,t,r,o){n.push(r?o.replace(G,"$1"):t||e)})),n})),N=T,q=v,D=w,H=g?g.prototype:void 0,J=H?H.toString:void 0;var L=function baseToString$1(e){if("string"==typeof e)return e;if(q(e))return N(e,baseToString$1)+"";if(D(e))return J?J.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var Q=function toString$1(e){return null==e?"":L(e)},W=v,X=B,Y=M,Z=Q;var ee=function castPath$3(e,n){return W(e)?e:X(e,n)?[e]:Y(Z(e))};var ne=w;var te=function toKey$2(e){if("string"==typeof e||ne(e))return e;var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n},re=ee,oe=te;var ae=function baseGet$1(e,n){for(var t=0,r=(n=re(n,e)).length;null!=e&&t<r;)e=e[oe(n[t++])];return t&&t==r?e:void 0};var ie=function baseSlice$1(e,n,t){var r=-1,o=e.length;n<0&&(n=-n>o?0:o+n),(t=t>o?o:t)<0&&(t+=o),o=n>t?0:t-n>>>0,n>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+n];return a},ce=ae,se=ie;var ue=ee,le=function last$1(e){var n=null==e?0:e.length;return n?e[n-1]:void 0},fe=function parent$1(e,n){return n.length<2?e:ce(e,se(n,0,-1))},pe=te;var ve=d;var me=z,ge=h,de=$;var he=function flatRest$1(e){return de(ge(e,void 0,me),e+"")},$e=T,ye=S,be=function baseUnset$1(e,n){return n=ue(n,e),null==(e=fe(e,n))||delete e[pe(le(n))]},Se=ee,Ce=y,xe=function customOmitClone$1(e){return ve(e)?void 0:e},we=b,ze=he((function(e,n){var t={};if(null==e)return t;var r=!1;n=$e(n,(function(n){return n=Se(n,e),r||(r=n.length>1),n})),Ce(e,we(e),t),r&&(t=ye(t,7,xe));for(var o=n.length;o--;)be(t,n[o]);return t}));const regexGroupsValues=(e,n)=>{if("string"!=typeof n&&n.global)return[...e.matchAll(n)].map((e=>e.slice(1)));const t=e.match(n)||[];return t?t.length>1?t.slice(1):t:[]},je=/{[^}]*}/g,dynamicSegmentStringToRegex=e=>e.replace(je,"(.*)"),dynamicSegments=(e,n)=>{const t=(e=>(e.match(je)||[]).map((e=>e.replace(/{|}/g,""))))(n),r=((e,n)=>regexGroupsValues(e,dynamicSegmentStringToRegex(n)))(e,n);return t.reduce(((e,n,t)=>({...e,[n]:r[t]})),{})},isIconConfigurationString=e=>"string"==typeof e.name,isIconConfigurationRegex=e=>e.name instanceof RegExp,isMatchConfiguration=(e,n)=>{return isIconConfigurationString(n)?((e,n)=>{const t=dynamicSegmentStringToRegex(n);return((e,n)=>(e.match(n)||[])[0]===e)(e,new RegExp(t))})(e,n.name):!!isIconConfigurationRegex(n)&&(t=e,n.name.test(t));var t},resolveIconConfiguration=(e,n)=>{if(isIconConfigurationString(n))return((e,n)=>{const t=dynamicSegments(e,n.name);return n.resolve&&n.resolve(t)})(e,n);if(isIconConfigurationRegex(n))return((e,n)=>{if(n.name.global)throw new Error(`Bad icon config with name ${n.name}. Please, don't use global regex as name.`);const t=regexGroupsValues(e,n.name);return n.resolveFromRegex&&n.resolveFromRegex(...t)})(e,n);throw Error("Unknown icon config")},findIconConfiguration=(e,n,t=[])=>{if(!e)return;const r=((e,n,t=[])=>{const r=n.find((n=>!t.includes(n.name.toString())&&isMatchConfiguration(e,n)));if(!r)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return r})(e,n,t),o=x(resolveIconConfiguration(e,r),r);return t=[...t,r.name.toString()],x(findIconConfiguration(o.to,n,t),o)},getIconConfiguration=(e,n=(()=>C().icons||[])())=>{const t=findIconConfiguration(e,n);return void 0===t?{}:(e=>{const n=e;return["name","to","resolve","resolveFromRegex"].forEach((e=>{delete n[e]})),n})(t)},useIcons=e=>({getIcon:e=>getIconConfiguration(e)});var Ee=e({name:"VaIcon",props:{...E,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e,{attrs:t}){const{getColor:r}=j(),{sizeComputed:o}=R(e),{getIcon:a}=useIcons(),i=n((()=>a(e.name))),c=n((()=>e.component||e.tag||i.value.component||i.value.tag||"i")),s=n((()=>({...i.value.attrs,...ze(t,["class"])}))),getSpinClass=e=>{if(void 0!==e&&!1!==e)return"counter-clockwise"===e?"va-icon--spin-reverse":"va-icon--spin"},u=n((()=>{var n;return[i.value.class,getSpinClass(null!==(n=e.spin)&&void 0!==n?n:i.value.spin)]})),l=n((()=>{const n=e.rotation?`rotate(${e.rotation}deg)`:"",t="vertical"===e.flip||"both"===e.flip?-1:1,r="horizontal"===e.flip||"both"===e.flip?-1:1;return`${"off"===e.flip?"":`scale(${t}, ${r})`} ${n}`.trim()})),f=n((()=>({transform:l.value,cursor:t.onClick?"pointer":null,color:e.color?r(e.color,void 0,!0):i.value.color,fontSize:o.value})));return{iconConfig:i,computedTag:c,computedAttrs:s,computedClass:u,computedStyle:f}}});Ee.ssrRender=function ssrRender(e,n,v,m,g,d,h,$){A(n,t(r(e.computedTag),o(e.computedAttrs,{"aria-hidden":"true",notranslate:"",class:["va-icon",e.computedClass],style:e.computedStyle},m),{default:a(((n,t,r,o)=>{if(!t)return[i(e.$slots,"default",{},(()=>[e.iconConfig.content?(c(),s(u,{key:0},[l(f(e.iconConfig.content),1)],2112)):p("v-if",!0)]))];I(e.$slots,"default",{},(()=>{e.iconConfig.content?t(`\x3c!--[--\x3e${k(e.iconConfig.content)}\x3c!--]--\x3e`):t("\x3c!----\x3e")}),t,r,o)})),_:3}),v)},Ee.__file="src/components/va-icon/VaIcon.vue";export{ie as _,ee as a,te as b,ae as c,he as d,ze as o,Ee as s,Q as t,useIcons as u};
//# sourceMappingURL=VaIcon.js.map
