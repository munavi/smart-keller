{"version":3,"file":"useFocus.js","sources":["../../src/composables/useFocus.ts"],"sourcesContent":["import { ref, onMounted, onBeforeUnmount, Ref } from 'vue'\n\nexport const useFocusEmits = ['focus', 'blur']\n\nexport function useFocus (\n  el?: Ref<HTMLElement | null | undefined>,\n  emit?: (event: 'focus' | 'blur', e?: Event) => void,\n) {\n  const isFocused = ref(false)\n\n  const onFocus = (e?: Event) => {\n    isFocused.value = true\n    emit?.('focus', e)\n  }\n\n  const onBlur = (e?: Event) => {\n    isFocused.value = false\n    emit?.('blur', e)\n  }\n\n  const focus = (): void => {\n    el?.value?.focus()\n  }\n\n  const blur = (): void => {\n    el?.value?.blur()\n  }\n\n  if (el) {\n    onMounted(() => {\n      if (el?.value instanceof HTMLElement) {\n        el.value?.addEventListener('focus', onFocus)\n        el.value?.addEventListener('blur', onBlur)\n      }\n    })\n    onBeforeUnmount(() => {\n      if (el?.value instanceof HTMLElement) {\n        el.value?.removeEventListener('focus', onFocus)\n        el.value?.removeEventListener('blur', onBlur)\n      }\n    })\n  }\n\n  return {\n    isFocused,\n    onFocus,\n    onBlur,\n    focus,\n    blur,\n  }\n}\n"],"names":["useFocusEmits","useFocus","el","emit","isFocused","ref","onFocus","e","value","onBlur","onMounted","HTMLElement","addEventListener","onBeforeUnmount","removeEventListener","focus","blur"],"mappings":"oEAEaA,EAAgB,CAAC,QAAS,iBAEvBC,SACdC,EACAC,GAEA,MAAMC,EAAYC,GAAI,GAEhBC,QAAWC,IACfH,EAAUI,OAAQ,EAClBL,MAAAA,GAAAA,EAAO,QAASI,IAGZE,OAAUF,IACdH,EAAUI,OAAQ,EAClBL,MAAAA,GAAAA,EAAO,OAAQI,IA0BjB,OAfIL,IACFQ,GAAU,cACJR,MAAAA,SAAAA,EAAIM,iBAAiBG,wBACvBT,EAAGM,sBAAOI,iBAAiB,QAASN,mBACpCJ,EAAGM,sBAAOI,iBAAiB,OAAQH,YAGvCI,GAAgB,cACVX,MAAAA,SAAAA,EAAIM,iBAAiBG,wBACvBT,EAAGM,sBAAOM,oBAAoB,QAASR,mBACvCJ,EAAGM,sBAAOM,oBAAoB,OAAQL,aAKrC,CACLL,UAAAA,EACAE,QAAAA,QACAG,OAAAA,OACAM,MA3BY,qBACZb,MAAAA,SAAAA,EAAIM,sBAAOO,SA2BXC,KAxBW,qBACXd,MAAAA,SAAAA,EAAIM,sBAAOQ"}