import{w as e}from"./withConfigTransport.js";import{defineComponent as o,ref as a,computed as t,watch as l,nextTick as n,resolveComponent as i,mergeProps as r,withCtx as s,createTextVNode as u,toDisplayString as p,openBlock as d,createBlock as c,createCommentVNode as g,renderSlot as b,Fragment as f,renderList as v,withDirectives as m,withKeys as y,vModelText as $}from"vue";import{_ as h}from"./global-utils.js";import{u as k}from"./color-config.js";import{u as V,a as I,b as C}from"./useStateful.js";import{u as L}from"./useTextColor.js";import S from"./index11.js";import j from"./index9.js";import{ssrRenderComponent as x,ssrRenderSlot as B,ssrRenderList as w,ssrInterpolate as P,ssrRenderStyle as _,ssrRenderClass as R,ssrIncludeBooleanAttr as z,ssrRenderAttr as N}from"@vue/server-renderer";import"./VaConfig.js";import"./global-config.js";import"colortranslator";import"./VaButton.js";import"./useColor.js";import"./useRouterLink.js";import"./useSize.js";import"./useLoading.js";import"./index28.js";import"./VaIcon.js";import"./isSymbol.js";import"./flatten.js";import"./index39.js";import"./clamp.js";import"./toNumber.js";var U=o({name:"VaPagination",components:{VaButtonGroup:S,VaButton:j},emits:V,props:{...I,modelValue:{type:Number,default:1},visiblePages:{type:Number,default:0},pages:{type:Number,default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},total:{type:Number,default:null},pageSize:{type:Number,default:null},boundaryIconLeft:{type:String,default:"first_page"},boundaryIconRight:{type:String,default:"last_page"},directionIconLeft:{type:String,default:"chevron_left"},directionIconRight:{type:String,default:"chevron_right"}},setup(e,{emit:o}){const i=a(""),r=a(null),s=t((()=>!(!e.total&&0!==e.pageSize||!e.pageSize))),{valueComputed:u}=C(e,o),{textColorComputed:p}=L(e.color),d=t({get:()=>s.value?Math.ceil(u.value/e.pageSize)||1:u.value,set:e=>{u.value=e}}),c=t((()=>{const{visiblePages:o,total:a,pageSize:t,boundaryNumbers:l,pages:n}=e;return((e=1,o,a,t=!1)=>{let l=0;if(0===a&&(a=1),o>a&&(o=a),0===o)l=1,o=a;else{const t=o/2;l=e-t<=0||e>a?1:e+t>a?a-o+1:Math.ceil(e-t)}const n=[];for(let e=0;e<o;e++)n.push(l+e);return t&&(1!==l&&n.splice(0,2,1,"..."),n[n.length-1]!==a&&n.splice(-2,2,"...",a)),n})(d.value||1,o,s.value?Math.ceil(a/t):n,l)})),g=t((()=>s.value?Math.ceil(e.total/e.pageSize)||1:e.pages)),b=t((()=>!!e.visiblePages&&g.value>e.visiblePages)),f=t((()=>{const{boundaryLinks:o,boundaryNumbers:a,input:t}=e;return t||b.value&&o&&!a})),v=t((()=>e.input||b.value&&e.directionLinks)),m=t((()=>g.value>1||!e.hideOnSinglePage&&g.value<=1)),onUserInput=o=>{"..."===o||o<1||o>g.value||(d.value=s.value?(o-1)*e.pageSize+1:o)},resetInput=()=>{var e;i.value="",null===(e=r.value)||void 0===e||e.blur()},{getColor:y}=k();return l([s,()=>e.pages],(()=>{if(h&&s.value&&e.pages)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")})),{getColor:y,currentValue:d,lastPage:g,changeValue:()=>{if(+i.value===d.value&&resetInput(),!i.value.length)return;let e=Number.parseInt(i.value);switch(!0){case e<1:e=1;break;case e>g.value:e=g.value;break;case isNaN(e):e=d.value}onUserInput(e),resetInput()},inputValue:i,showPagination:m,showBoundaryLinks:f,onUserInput:onUserInput,activeButtonStyle:o=>o===d.value?{backgroundColor:y(e.color),color:p.value}:{color:y(e.color)},showDirectionLinks:v,paginationRange:c,focusInput:()=>{i.value=`${d.value}`,n((()=>{var e;return null===(e=r.value)||void 0===e?void 0:e.setSelectionRange(0,r.value.value.length)}))}}}});U.ssrRender=function ssrRender(e,o,a,t,l,n,h,k){const V=i("va-button-group"),I=i("va-button");e.showPagination?o(x(V,r({class:"va-pagination",flat:e.$props.flat,size:e.$props.size,color:e.$props.color,outline:""},t),{default:s(((o,a,t,l)=>{if(!a)return[e.showBoundaryLinks?(d(),c(I,{key:0,disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft,onClick:o=>e.onUserInput(1)},null,8,["disabled","icon","onClick"])):g("v-if",!0),e.showDirectionLinks?(d(),c(I,{key:1,outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft,onClick:o=>e.onUserInput(e.currentValue-1)},null,8,["disabled","icon","onClick"])):g("v-if",!0),e.$props.input?m((d(),c("input",{key:3,ref:"htmlInput",class:["va-pagination__input va-button",{"va-pagination__input--flat":e.$props.flat}],style:{cursor:"default",color:e.getColor(e.$props.color),opacity:e.$props.disabled?.4:1},onKeydown:y(e.changeValue,["enter"]),onFocus:e.focusInput,onBlur:e.changeValue,disabled:e.$props.disabled,placeholder:`${e.currentValue}/${e.lastPage}`,"onUpdate:modelValue":o=>e.inputValue=o},null,46,["onKeydown","onFocus","onBlur","disabled","placeholder","onUpdate:modelValue"])),[[$,e.inputValue]]):b(e.$slots,"default",{key:2},(()=>[(d(!0),c(f,null,v(e.paginationRange,((o,a)=>(d(),c(I,{key:a,style:e.activeButtonStyle(o),disabled:e.$props.disabled||"..."===o,class:{"va-button--ellipsis":"..."===o},onClick:a=>e.onUserInput(o),outline:""},{default:s((()=>[u(p(o),1)])),_:2},1032,["style","disabled","class","onClick"])))),128))])),e.showDirectionLinks?(d(),c(I,{key:4,outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight,onClick:o=>e.onUserInput(e.currentValue+1)},null,8,["disabled","icon","onClick"])):g("v-if",!0),e.showBoundaryLinks?(d(),c(I,{key:5,outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight,onClick:o=>e.onUserInput(e.lastPage)},null,8,["disabled","icon","onClick"])):g("v-if",!0)];e.showBoundaryLinks?a(x(I,{disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft},null,t,l)):a("\x3c!----\x3e"),e.showDirectionLinks?a(x(I,{outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft},null,t,l)):a("\x3c!----\x3e"),e.$props.input?a(`<input style="${_({cursor:"default",color:e.getColor(e.$props.color),opacity:e.$props.disabled?.4:1})}" class="${R([{"va-pagination__input--flat":e.$props.flat},"va-pagination__input va-button"])}"${z(e.$props.disabled)?" disabled":""}${N("placeholder",`${e.currentValue}/${e.lastPage}`)}${N("value",e.inputValue)}${l}>`):B(e.$slots,"default",{},(()=>{a("\x3c!--[--\x3e"),w(e.paginationRange,((o,n)=>{a(x(I,{key:n,style:e.activeButtonStyle(o),disabled:e.$props.disabled||"..."===o,class:{"va-button--ellipsis":"..."===o},outline:""},{default:s(((e,a,t,l)=>{if(!a)return[u(p(o),1)];a(`${P(o)}`)})),_:2},t,l))})),a("\x3c!--]--\x3e")}),a,t,l),e.showDirectionLinks?a(x(I,{outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight},null,t,l)):a("\x3c!----\x3e"),e.showBoundaryLinks?a(x(I,{outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight},null,t,l)):a("\x3c!----\x3e")})),_:3},a)):o("\x3c!----\x3e")},U.__file="src/components/va-pagination/VaPagination.vue";var D=e(U);export{D as default};
//# sourceMappingURL=index35.js.map
