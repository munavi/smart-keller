import{w as e}from"./withConfigTransport.js";import o from"./index28.js";import{defineComponent as l,shallowRef as a,computed as t,resolveComponent as s,openBlock as r,createElementBlock as n,normalizeClass as c,createElementVNode as d,mergeProps as i,toHandlers as u,withKeys as p,renderSlot as m,normalizeProps as v,guardReactiveProps as f,normalizeStyle as g,createBlock as y,createCommentVNode as b,toDisplayString as _,createVNode as h}from"vue";import{u as C}from"./color-config.js";import{u as x}from"./useKeyboardOnlyFocus.js";import{a as j}from"./useAccordion.js";import{u as S}from"./useSyncProp.js";import{u as V}from"./useTextColor.js";import"./VaConfig.js";import"./global-config.js";import"./VaIcon.js";import"./isSymbol.js";import"./flatten.js";import"./useSize.js";import"colortranslator";var F=l({name:"VaCollapse",components:{VaIcon:o},props:{modelValue:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},header:{type:String,default:""},icon:{type:String,default:""},solid:{type:Boolean,default:!1},color:{type:String,default:"background"},textColor:{type:String,default:""},colorAll:{type:Boolean,default:!1}},emits:["focus","update:modelValue"],setup(e,{emit:o,slots:l}){const s=a(null),[r]=S("modelValue",e,o,!1),{getColor:n,getHoverColor:c}=C(),{accordionProps:d,toggle:i}=j(r),{textColorComputed:u}=V(e.color),getNodeHeight=e=>"#text"===e.nodeName?(e=>{const o=document.createRange();o.selectNodeContents(e);const l=o.getBoundingClientRect();return l.bottom-l.top})(e):"#comment"===e.nodeName?0:e.clientHeight,p=t((()=>{if(!r.value||!s.value)return 0;return Array.from(s.value.childNodes).reduce(((e,o)=>e+getNodeHeight(o)),0)})),{hasKeyboardFocus:m,keyboardFocusListeners:v}=x(),getTransition=()=>{const e=p.value/1e3*.2;return`${e>.2?e:.2}s`};return{body:s,height:p,toggle:i,computedModelValue:r,hasKeyboardFocus:m,keyboardFocusListeners:v,textColorComputed:u,computedClasses:t((()=>({"va-collapse--disabled":e.disabled,"va-collapse--solid":e.solid,"va-collapse--active":e.solid&&r.value,"va-collapse--popout":d.value.popout&&r.value,"va-collapse--inset":d.value.inset&&r.value}))),headerStyle:t((()=>({paddingLeft:e.icon&&0,color:u.value,backgroundColor:e.color?n(e.color):"",boxShadow:m.value?"0 0 0.5rem 0 rgba(0, 0, 0, 0.3)":""}))),contentStyle:t((()=>{var o;const a=r.value&&!!(null===(o=l.default)||void 0===o?void 0:o.call(l)[0]);return{visibility:a?"visible":"hidden",height:`${p.value}px`,transitionDuration:getTransition(),background:a&&e.color&&e.colorAll?c(n(e.color)):""}}))}}});const k=["tabindex"],K={class:"va-collapse__header__text"};F.render=function render(e,o,l,a,t,C){const x=s("va-icon");return r(),n("div",{class:c(["va-collapse",e.computedClasses])},[d("div",i({class:"va-collapse__header"},u(e.keyboardFocusListeners),{onClick:o[0]||(o[0]=o=>e.toggle()),onFocus:o[1]||(o[1]=o=>e.$emit("focus")),onKeydown:[o[2]||(o[2]=p((o=>e.toggle()),["enter"])),o[3]||(o[3]=p((o=>e.toggle()),["space"]))],tabindex:e.disabled?-1:0}),[m(e.$slots,"header",v(f({value:e.computedModelValue,hasKeyboardFocus:e.hasKeyboardFocus})),(()=>[d("div",{class:"va-collapse__header__content",style:g(e.headerStyle)},[e.icon?(r(),y(x,{key:0,class:"va-collapse__header__icon",name:e.icon,color:e.textColorComputed},null,8,["name","color"])):b("v-if",!0),d("div",K,_(e.header),1),h(x,{class:"va-collapse__header__icon",name:e.computedModelValue?"expand_less":"expand_more",color:e.textColorComputed},null,8,["name","color"])],4)]))],16,k),d("div",{class:"va-collapse__body",ref:"body",style:g(e.contentStyle)},[m(e.$slots,"default")],4)],2)},F.__file="src/components/va-collapse/VaCollapse.vue";var B=e(F);export{B as default};
//# sourceMappingURL=index17.js.map
