import{w as e}from"./withConfigTransport.js";import{defineComponent as a,ref as o,computed as t,watch as l,nextTick as n,resolveComponent as i,openBlock as u,createBlock as r,withCtx as s,createCommentVNode as p,renderSlot as d,createElementBlock as c,Fragment as g,renderList as f,normalizeStyle as v,normalizeClass as m,createTextVNode as b,toDisplayString as y,withDirectives as h,withKeys as k,vModelText as V}from"vue";import{_ as j}from"./global-utils.js";import{u as S}from"./color-config.js";import{u as $,a as I,b as C}from"./useStateful.js";import{u as B}from"./useTextColor.js";import L from"./index11.js";import P from"./index9.js";import"./VaConfig.js";import"./global-config.js";import"colortranslator";import"./VaButton.js";import"./useColor.js";import"./useRouterLink.js";import"./useSize.js";import"./useLoading.js";import"./index28.js";import"./VaIcon.js";import"./isSymbol.js";import"./flatten.js";import"./index39.js";import"./clamp.js";import"./toNumber.js";var w=a({name:"VaPagination",components:{VaButtonGroup:L,VaButton:P},emits:$,props:{...I,modelValue:{type:Number,default:1},visiblePages:{type:Number,default:0},pages:{type:Number,default:0},disabled:{type:Boolean,default:!1},color:{type:String,default:"primary"},size:{type:String,default:"medium",validator:e=>["medium","small","large"].includes(e)},boundaryLinks:{type:Boolean,default:!0},boundaryNumbers:{type:Boolean,default:!1},directionLinks:{type:Boolean,default:!0},input:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},total:{type:Number,default:null},pageSize:{type:Number,default:null},boundaryIconLeft:{type:String,default:"first_page"},boundaryIconRight:{type:String,default:"last_page"},directionIconLeft:{type:String,default:"chevron_left"},directionIconRight:{type:String,default:"chevron_right"}},setup(e,{emit:a}){const i=o(""),u=o(null),r=t((()=>!(!e.total&&0!==e.pageSize||!e.pageSize))),{valueComputed:s}=C(e,a),{textColorComputed:p}=B(e.color),d=t({get:()=>r.value?Math.ceil(s.value/e.pageSize)||1:s.value,set:e=>{s.value=e}}),c=t((()=>{const{visiblePages:a,total:o,pageSize:t,boundaryNumbers:l,pages:n}=e;return((e=1,a,o,t=!1)=>{let l=0;if(0===o&&(o=1),a>o&&(a=o),0===a)l=1,a=o;else{const t=a/2;l=e-t<=0||e>o?1:e+t>o?o-a+1:Math.ceil(e-t)}const n=[];for(let e=0;e<a;e++)n.push(l+e);return t&&(1!==l&&n.splice(0,2,1,"..."),n[n.length-1]!==o&&n.splice(-2,2,"...",o)),n})(d.value||1,a,r.value?Math.ceil(o/t):n,l)})),g=t((()=>r.value?Math.ceil(e.total/e.pageSize)||1:e.pages)),f=t((()=>!!e.visiblePages&&g.value>e.visiblePages)),v=t((()=>{const{boundaryLinks:a,boundaryNumbers:o,input:t}=e;return t||f.value&&a&&!o})),m=t((()=>e.input||f.value&&e.directionLinks)),b=t((()=>g.value>1||!e.hideOnSinglePage&&g.value<=1)),onUserInput=a=>{"..."===a||a<1||a>g.value||(d.value=r.value?(a-1)*e.pageSize+1:a)},resetInput=()=>{var e;i.value="",null===(e=u.value)||void 0===e||e.blur()},{getColor:y}=S();return l([r,()=>e.pages],(()=>{if(j&&r.value&&e.pages)throw new Error("Please, use either `total` and `page-size` props, or `pages`.")})),{getColor:y,currentValue:d,lastPage:g,changeValue:()=>{if(+i.value===d.value&&resetInput(),!i.value.length)return;let e=Number.parseInt(i.value);switch(!0){case e<1:e=1;break;case e>g.value:e=g.value;break;case isNaN(e):e=d.value}onUserInput(e),resetInput()},inputValue:i,showPagination:b,showBoundaryLinks:v,onUserInput:onUserInput,activeButtonStyle:a=>a===d.value?{backgroundColor:y(e.color),color:p.value}:{color:y(e.color)},showDirectionLinks:m,paginationRange:c,focusInput:()=>{i.value=`${d.value}`,n((()=>{var e;return null===(e=u.value)||void 0===e?void 0:e.setSelectionRange(0,u.value.value.length)}))}}}});const z=["disabled","placeholder"];w.render=function render(e,a,o,t,l,n){const j=i("va-button"),S=i("va-button-group");return e.showPagination?(u(),r(S,{key:0,class:"va-pagination",flat:e.$props.flat,size:e.$props.size,color:e.$props.color,outline:""},{default:s((()=>[e.showBoundaryLinks?(u(),r(j,{key:0,disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.boundaryIconLeft,onClick:a[0]||(a[0]=a=>e.onUserInput(1))},null,8,["disabled","icon"])):p("v-if",!0),e.showDirectionLinks?(u(),r(j,{key:1,outline:"",disabled:e.$props.disabled||1===e.currentValue,icon:e.$props.directionIconLeft,onClick:a[1]||(a[1]=a=>e.onUserInput(e.currentValue-1))},null,8,["disabled","icon"])):p("v-if",!0),e.$props.input?h((u(),c("input",{key:3,ref:"htmlInput",class:m(["va-pagination__input va-button",{"va-pagination__input--flat":e.$props.flat}]),style:v({cursor:"default",color:e.getColor(e.$props.color),opacity:e.$props.disabled?.4:1}),onKeydown:a[2]||(a[2]=k(((...a)=>e.changeValue&&e.changeValue(...a)),["enter"])),onFocus:a[3]||(a[3]=(...a)=>e.focusInput&&e.focusInput(...a)),onBlur:a[4]||(a[4]=(...a)=>e.changeValue&&e.changeValue(...a)),disabled:e.$props.disabled,placeholder:`${e.currentValue}/${e.lastPage}`,"onUpdate:modelValue":a[5]||(a[5]=a=>e.inputValue=a)},null,46,z)),[[V,e.inputValue]]):d(e.$slots,"default",{key:2},(()=>[(u(!0),c(g,null,f(e.paginationRange,((a,o)=>(u(),r(j,{key:o,style:v(e.activeButtonStyle(a)),disabled:e.$props.disabled||"..."===a,class:m({"va-button--ellipsis":"..."===a}),onClick:o=>e.onUserInput(a),outline:""},{default:s((()=>[b(y(a),1)])),_:2},1032,["style","disabled","class","onClick"])))),128))])),e.showDirectionLinks?(u(),r(j,{key:4,outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.directionIconRight,onClick:a[6]||(a[6]=a=>e.onUserInput(e.currentValue+1))},null,8,["disabled","icon"])):p("v-if",!0),e.showBoundaryLinks?(u(),r(j,{key:5,outline:"",disabled:e.$props.disabled||e.currentValue===e.lastPage,icon:e.$props.boundaryIconRight,onClick:a[7]||(a[7]=a=>e.onUserInput(e.lastPage))},null,8,["disabled","icon"])):p("v-if",!0)])),_:3},8,["flat","size","color"])):p("v-if",!0)},w.__file="src/components/va-pagination/VaPagination.vue";var _=e(w);export{_ as default};
//# sourceMappingURL=index35.js.map
