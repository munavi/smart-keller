import{w as o}from"./withConfigTransport.js";import{defineComponent as a,ref as t,provide as e,onMounted as l,inject as i,nextTick as r,onUnmounted as n,openBlock as s,createBlock as u,resolveDynamicComponent as v,withCtx as d,renderSlot as f}from"vue";import{F as c}from"./consts.js";import"./VaConfig.js";import"./global-config.js";const isVaForm=o=>!!o.focusInvalid;var m=a({name:"VaForm",emits:["validation"],props:{autofocus:{type:Boolean,default:!1},tag:{type:String,default:"div"}},setup(o,{emit:a}){const s=t([]),parentFormProvider=()=>i(c,void 0);e(c,{onChildMounted:o=>childMountedHandler(o),onChildUnmounted:o=>childUnmountedHandler(o)});const childMountedHandler=o=>{s.value.push(o)},childUnmountedHandler=o=>{s.value=s.value.filter((a=>a!==o))},focus=()=>{var o;null===(o=s.value.find((({focus:o})=>o)))||void 0===o||o.focus()},u={reset:()=>{s.value.filter((({reset:o})=>o)).forEach((o=>{o.reset()}))},resetValidation:()=>{s.value.filter((({resetValidation:o})=>o)).forEach((o=>{o.resetValidation()}))},focus:focus,focusInvalid:()=>{const o=s.value.find((o=>!isVaForm(o)&&o.hasError()));o?o.focus():s.value.forEach((o=>isVaForm(o)&&o.focusInvalid()))},validate:()=>{const o=s.value.filter((({validate:o})=>o)).map((o=>o.validate())).every((o=>o));return a("validation",o),o}};return l((()=>{var a,t;null===(t=null===(a=parentFormProvider())||void 0===a?void 0:a.onChildMounted)||void 0===t||t.call(a,u),o.autofocus&&r(focus)})),n((()=>{var o,a;null===(a=null===(o=parentFormProvider())||void 0===o?void 0:o.onChildUnmounted)||void 0===a||a.call(o,u)})),u},methods:{reset(){var o;null===(o=this.form)||void 0===o||o.reset()},resetValidation(){var o;null===(o=this.form)||void 0===o||o.resetValidation()},focus(){var o;null===(o=this.form)||void 0===o||o.focus()},focusInvalid(){var o;null===(o=this.form)||void 0===o||o.focusInvalid()},validate(){var o;null===(o=this.form)||void 0===o||o.validate()}}});m.render=function render(o,a,t,e,l,i){return s(),u(v(o.tag),{ref:"form",class:"va-form"},{default:d((()=>[f(o.$slots,"default")])),_:3},512)},m.__file="src/components/va-form/VaForm.vue";var h=o(m);export{h as default};
//# sourceMappingURL=index49.js.map
