import{defineComponent as e,computed as t,openBlock as n,createBlock as r,resolveDynamicComponent as o,mergeProps as a,withCtx as i,renderSlot as c,createElementBlock as s,Fragment as u,createTextVNode as l,toDisplayString as f,createCommentVNode as p}from"vue";import{i as v,_ as m,b as g,d,e as h,f as y,h as $,j as b,k as S,g as C,l as w}from"./global-config.js";import{i as z}from"./isSymbol.js";import{f as j}from"./flatten.js";import{u as x}from"./color-config.js";import{u as E,a as A}from"./useSize.js";var I=function arrayMap$2(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},R=v,k=z,T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;var F=function isKey$1(e,t){if(R(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!k(e))||(_.test(e)||!T.test(e)||null!=t&&e in Object(t))},O=m;function memoize$1(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var memoized=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=memoized.cache;if(o.has(r))return o.get(r);var a=e.apply(this,n);return memoized.cache=o.set(r,a)||o,a};return memoized.cache=new(memoize$1.Cache||O),memoized}memoize$1.Cache=O;var P=memoize$1;var B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/\\(\\)?/g,U=function memoizeCapped$1(e){var t=P(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(B,(function(e,n,r,o){t.push(r?o.replace(K,"$1"):n||e)})),t})),V=I,G=v,M=z,N=g?g.prototype:void 0,q=N?N.toString:void 0;var D=function baseToString$1(e){if("string"==typeof e)return e;if(G(e))return V(e,baseToString$1)+"";if(M(e))return q?q.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var H=function toString$1(e){return null==e?"":D(e)},J=v,L=F,Q=U,W=H;var X=function castPath$3(e,t){return J(e)?e:L(e,t)?[e]:Q(W(e))};var Y=z;var Z=function toKey$2(e){if("string"==typeof e||Y(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},ee=X,te=Z;var ne=function baseGet$1(e,t){for(var n=0,r=(t=ee(t,e)).length;null!=e&&n<r;)e=e[te(t[n++])];return n&&n==r?e:void 0};var re=function baseSlice$1(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a},oe=ne,ae=re;var ie=X,ce=function last$1(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},se=function parent$1(e,t){return t.length<2?e:oe(e,ae(t,0,-1))},ue=Z;var le=d;var fe=j,pe=h,ve=y;var me=function flatRest$1(e){return ve(pe(e,void 0,fe),e+"")},ge=I,de=S,he=function baseUnset$1(e,t){return t=ie(t,e),null==(e=se(e,t))||delete e[ue(ce(t))]},ye=X,$e=$,be=function customOmitClone$1(e){return le(e)?void 0:e},Se=b,Ce=me((function(e,t){var n={};if(null==e)return n;var r=!1;t=ge(t,(function(t){return t=ye(t,e),r||(r=t.length>1),t})),$e(e,Se(e),n),r&&(n=de(n,7,be));for(var o=t.length;o--;)he(n,t[o]);return n}));const regexGroupsValues=(e,t)=>{if("string"!=typeof t&&t.global)return[...e.matchAll(t)].map((e=>e.slice(1)));const n=e.match(t)||[];return n?n.length>1?n.slice(1):n:[]},we=/{[^}]*}/g,dynamicSegmentStringToRegex=e=>e.replace(we,"(.*)"),dynamicSegments=(e,t)=>{const n=(e=>(e.match(we)||[]).map((e=>e.replace(/{|}/g,""))))(t),r=((e,t)=>regexGroupsValues(e,dynamicSegmentStringToRegex(t)))(e,t);return n.reduce(((e,t,n)=>({...e,[t]:r[n]})),{})},isIconConfigurationString=e=>"string"==typeof e.name,isIconConfigurationRegex=e=>e.name instanceof RegExp,isMatchConfiguration=(e,t)=>{return isIconConfigurationString(t)?((e,t)=>{const n=dynamicSegmentStringToRegex(t);return((e,t)=>(e.match(t)||[])[0]===e)(e,new RegExp(n))})(e,t.name):!!isIconConfigurationRegex(t)&&(n=e,t.name.test(n));var n},resolveIconConfiguration=(e,t)=>{if(isIconConfigurationString(t))return((e,t)=>{const n=dynamicSegments(e,t.name);return t.resolve&&t.resolve(n)})(e,t);if(isIconConfigurationRegex(t))return((e,t)=>{if(t.name.global)throw new Error(`Bad icon config with name ${t.name}. Please, don't use global regex as name.`);const n=regexGroupsValues(e,t.name);return t.resolveFromRegex&&t.resolveFromRegex(...n)})(e,t);throw Error("Unknown icon config")},findIconConfiguration=(e,t,n=[])=>{if(!e)return;const r=((e,t,n=[])=>{const r=t.find((t=>!n.includes(t.name.toString())&&isMatchConfiguration(e,t)));if(!r)throw new Error(`Can not find icon config from ${e}. Please provide default config.`);return r})(e,t,n),o=w(resolveIconConfiguration(e,r),r);return n=[...n,r.name.toString()],w(findIconConfiguration(o.to,t,n),o)},getIconConfiguration=(e,t=(()=>C().icons||[])())=>{const n=findIconConfiguration(e,t);return void 0===n?{}:(e=>{const t=e;return["name","to","resolve","resolveFromRegex"].forEach((e=>{delete t[e]})),t})(n)},useIcons=e=>({getIcon:e=>getIconConfiguration(e)});var ze=e({name:"VaIcon",props:{...E,name:{type:String,default:""},tag:{type:String},component:{type:Object},color:{type:String},rotation:{type:[String,Number]},spin:{type:[String,Boolean]},flip:{type:String,default:"off",validator:e=>["off","horizontal","vertical","both"].includes(e)}},setup(e,{attrs:n}){const{getColor:r}=x(),{sizeComputed:o}=A(e),{getIcon:a}=useIcons(),i=t((()=>a(e.name))),c=t((()=>e.component||e.tag||i.value.component||i.value.tag||"i")),s=t((()=>({...i.value.attrs,...Ce(n,["class"])}))),getSpinClass=e=>{if(void 0!==e&&!1!==e)return"counter-clockwise"===e?"va-icon--spin-reverse":"va-icon--spin"},u=t((()=>{var t;return[i.value.class,getSpinClass(null!==(t=e.spin)&&void 0!==t?t:i.value.spin)]})),l=t((()=>{const t=e.rotation?`rotate(${e.rotation}deg)`:"",n="vertical"===e.flip||"both"===e.flip?-1:1,r="horizontal"===e.flip||"both"===e.flip?-1:1;return`${"off"===e.flip?"":`scale(${n}, ${r})`} ${t}`.trim()})),f=t((()=>({transform:l.value,cursor:n.onClick?"pointer":null,color:e.color?r(e.color,void 0,!0):i.value.color,fontSize:o.value})));return{iconConfig:i,computedTag:c,computedAttrs:s,computedClass:u,computedStyle:f}}});ze.render=function render(e,t,v,m,g,d){return n(),r(o(e.computedTag),a(e.computedAttrs,{"aria-hidden":"true",notranslate:"",class:["va-icon",e.computedClass],style:e.computedStyle}),{default:i((()=>[c(e.$slots,"default",{},(()=>[e.iconConfig.content?(n(),s(u,{key:0},[l(f(e.iconConfig.content),1)],2112)):p("v-if",!0)]))])),_:3},16,["class","style"])},ze.__file="src/components/va-icon/VaIcon.vue";export{re as _,X as a,Z as b,ne as c,me as d,Ce as o,ze as s,H as t,useIcons as u};
//# sourceMappingURL=VaIcon.js.map
