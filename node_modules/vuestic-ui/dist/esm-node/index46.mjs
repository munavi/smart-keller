import{w as e}from"./withConfigTransport.mjs";import{ref as a,watch as t,onMounted as o,onBeforeUnmount as l,unref as i,defineComponent as n,reactive as s,computed as r,provide as u,resolveComponent as v,openBlock as d,createElementBlock as c,normalizeClass as m,createElementVNode as p,createBlock as b,createCommentVNode as f,normalizeStyle as g,createVNode as h,withCtx as y,renderSlot as S,inject as _,resolveDynamicComponent as C,mergeProps as T,toHandlers as x,withKeys as P,toDisplayString as k}from"vue";import w from"./index9.mjs";import{a as j,b as V}from"./useStateful.mjs";import{a as L}from"./useColor.mjs";import{V as A}from"./VaConfig.mjs";import F from"./index28.mjs";import{u as $,a as B}from"./useRouterLink.mjs";import{u as I}from"./useKeyboardOnlyFocus.mjs";import"./global-config.mjs";import"./VaButton.mjs";import"./useTextColor.mjs";import"./color-config.mjs";import"colortranslator";import"./useSize.mjs";import"./useLoading.mjs";import"./index39.mjs";import"./clamp.mjs";import"./toNumber.mjs";import"./isSymbol.mjs";import"./VaIcon.mjs";import"./flatten.mjs";const R=Symbol("TabsView"),getClientWidth=e=>(null==e?void 0:e.clientWidth)||0;var z=n({name:"VaTabs",components:{VaButton:w,VaConfig:A},emits:["update:modelValue","click:next","click:prev"],props:{...j,modelValue:{type:[String,Number],default:null},left:{type:Boolean,default:!0},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},grow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideSlider:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:{type:String,default:"primary"},prevIcon:{type:String,default:"chevron_left"},nextIcon:{type:String,default:"chevron_right"}},setup:(e,{emit:n})=>{const v=a(),d=a(),c=a(),m=a([]),p=a(null),b=a(null),f=a(0),g=a(0),h=a(!1),y=a(0),S=a(0),_=a(!1),{colorComputed:C}=L(e),{valueComputed:T}=V(e,n),x=s({VaTab:{color:e.color}}),P=r((()=>{const{left:a,right:t,center:o,grow:l,disabled:i}=e;return{"va-tabs__container--left":a&&!t&&!o&&!l,"va-tabs__container--right":t,"va-tabs__container--center":o,"va-tabs__container--grow":l,"va-tabs__container--disabled":i}})),k=r((()=>({"va-tabs--vertical":e.vertical}))),w=r((()=>e.hideSlider?{display:"none"}:{backgroundColor:C.value,height:e.vertical?`${p.value}px`:"",width:e.vertical?"":`${b.value}px`,transform:`translateY(-${g.value}px) translateX(${f.value}px)`,transition:_.value?"var(--va-tabs-slider-wrapper-transition)":""})),j=r((()=>e.vertical?{transform:"translateX(0px)"}:{transform:`translateX(${S.value-y.value}px)`,transition:_.value?"var(--va-tabs-slider-transition)":""})),A=r((()=>0===y.value)),F=r((()=>{const e=m.value[m.value.length-1],a=i(e.leftSidePosition),t=i(e.rightSidePosition),o=getClientWidth(d.value);return t<=y.value+o||a<=y.value})),resetSliderSizes=()=>{b.value=0,p.value=0},moveToTab=e=>{const a=getClientWidth(d.value),t=getClientWidth(c.value),o=i(e.leftSidePosition),l=i(e.rightSidePosition);h.value&&o+a<=t?y.value=o:h.value&&l>=a?y.value=l-a:y.value=0},updateStartingXPoint=()=>{if(S.value=0,!h.value)return;const a=getClientWidth(d.value),t=getClientWidth(c.value);e.right?S.value=t-a:e.center&&(S.value=Math.floor((t-a)/2))},updateTabsState=()=>{resetSliderSizes(),m.value.forEach((e=>{var a;e.updateSidePositions();const t=((null===(a=e.name)||void 0===a?void 0:a.value)||e.id)===T.value;e.isActive=e.isActiveRouterLink||t,e.isActive&&(moveToTab(e),updateSlider(e))}));const e=getClientWidth(d.value),a=getClientWidth(c.value);y.value+e>a&&m.value&&moveToTab(m.value[0]),updateStartingXPoint()},updatePagination=()=>{const e=getClientWidth(c.value),a=getClientWidth(v.value);h.value=!!(c.value&&v.value&&e>a)},updateSlider=a=>{var t;const o=i(a.tabElement),l=(null==o?void 0:o.offsetTop)||0,n=(null==o?void 0:o.offsetLeft)||0,s=(null==o?void 0:o.clientHeight)||0,r=(null==o?void 0:o.clientWidth)||0;if(e.vertical){const e=((null===(t=d.value)||void 0===t?void 0:t.clientHeight)||0)-l-s;g.value=Math.max(e,0),p.value=s,f.value=0,b.value=0}else f.value=n,b.value=r,g.value=0,p.value=0},includeAnimation=()=>{_.value||requestAnimationFrame((()=>{_.value=!0}))},redrawTabs=()=>{const e=h.value;updatePagination(),e===h.value?(updateTabsState(),includeAnimation()):requestAnimationFrame((()=>{updateTabsState(),includeAnimation()}))},selectTab=a=>{var t;a&&(T.value=(null===(t=a.name)||void 0===t?void 0:t.value)||a.id,e.stateful&&updateTabsState())};u(R,{parentDisabled:e.disabled,selectTab:selectTab,moveToTab:moveToTab,registerTab:e=>{var a;const t=m.value.push(e)-1;e.id=(null===(a=e.name)||void 0===a?void 0:a.value)||t},unregisterTab:e=>{m.value=m.value.filter((a=>a.id!==e.id)),m.value.forEach(((e,a)=>{var t;e.id=(null===(t=e.name)||void 0===t?void 0:t.value)||a}))}}),t((()=>e.modelValue),updateTabsState);const $=((e,n)=>{const s=a(),observeAll=e=>{e.forEach((e=>{var a;const t=i(e);t&&(null===(a=s.value)||void 0===a||a.observe(t))}))};return t(e,(e=>{var a;null===(a=s.value)||void 0===a||a.disconnect(),observeAll(e)})),o((()=>{s.value=new ResizeObserver(n),observeAll(e)})),l((()=>{var e;return null===(e=s.value)||void 0===e?void 0:e.disconnect()})),s})([v,c],redrawTabs);return{wrapper:v,container:d,tabs:c,tabsList:m,sliderHeight:p,sliderWidth:b,sliderOffsetX:f,sliderOffsetY:g,showPagination:h,tabsContentOffset:y,resizeObserver:$,startingXPoint:S,animationIncluded:_,colorComputed:C,tabConfig:x,computedClass:P,computedTabsClass:k,tabSelected:T,sliderStyles:w,paginationControlledStyles:j,disablePaginationLeft:A,disablePaginationRight:F,resetSliderSizes:resetSliderSizes,moveToTab:moveToTab,updateStartingXPoint:updateStartingXPoint,updateTabsState:updateTabsState,updatePagination:updatePagination,movePaginationLeft:()=>{var e,a;const t=getClientWidth(d.value);let o=y.value-t;if(m.value)for(let t=0;t<m.value.length-1;t++){const l=i(null===(e=m.value[t])||void 0===e?void 0:e.leftSidePosition),n=i(null===(a=m.value[t+1])||void 0===a?void 0:a.leftSidePosition);if(l>o&&l<y.value||n>=y.value){o=l;break}}y.value=Math.max(0,o),n("click:prev")},movePaginationRight:()=>{var e;const a=getClientWidth(d.value),t=y.value+a;let o=t;if(m.value)for(let e=0;e<m.value.length-1;e++){if(i(m.value[e].rightSidePosition)>t&&(o=i(m.value[e].leftSidePosition),y.value<o))break}const l=i(null===(e=m.value[m.value.length-1])||void 0===e?void 0:e.rightSidePosition)-a;o=Math.min(l,o),y.value=Math.max(0,o),n("click:next")},updateSlider:updateSlider,includeAnimation:includeAnimation,redrawTabs:redrawTabs,selectTab:selectTab}}});const E={class:"va-tabs__wrapper",ref:"wrapper"},K=[p("div",{class:"va-tabs__slider"},null,-1)],M={class:"va-tabs__tabs-items"},H={class:"va-tabs__content"};z.render=function render$1(e,a,t,o,l,i){const n=v("va-button"),s=v("va-config");return d(),c("div",{class:m(["va-tabs",e.computedTabsClass])},[p("div",E,[e.showPagination?(d(),b(n,{key:0,disabled:e.disablePaginationLeft,class:"va-tabs__pagination",color:e.color,flat:"",size:"medium",icon:e.$props.prevIcon,onClick:a[0]||(a[0]=a=>e.movePaginationLeft())},null,8,["disabled","color","icon"])):f("v-if",!0),p("div",{class:m(["va-tabs__container",e.computedClass]),ref:"container"},[p("div",{class:"va-tabs__tabs",style:g(e.paginationControlledStyles),ref:"tabs"},[p("div",{class:"va-tabs__slider-wrapper",style:g(e.sliderStyles)},K,4),h(s,{components:e.tabConfig},{default:y((()=>[p("div",M,[S(e.$slots,"tabs")])])),_:3},8,["components"])],4)],2),e.showPagination?(d(),b(n,{key:1,disabled:e.disablePaginationRight,class:"va-tabs__pagination",color:e.color,flat:"",size:"medium",icon:e.$props.nextIcon,onClick:a[1]||(a[1]=a=>e.movePaginationRight())},null,8,["disabled","color","icon"])):f("v-if",!0)],512),p("div",H,[S(e.$slots,"default")])],2)},z.__file="src/components/va-tabs/VaTabs.vue";var O=n({name:"VaTab",components:{VaIcon:F},emits:["click","keydown-enter","focus"],props:{...$,color:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean},name:{type:[String,Number]},tag:{type:String,default:"div"}},setup:(e,{emit:t})=>{const i=a(),n=a(!1),s=a(!1),u=a(0),v=a(0),{hasKeyboardFocus:d,keyboardFocusListeners:c}=I(),{tagComputed:m,hrefComputed:p,isActiveRouterLink:b}=B(e),{colorComputed:f}=L(e),g=r((()=>({"va-tab--disabled":e.disabled}))),{parentDisabled:h,selectTab:y,moveToTab:S,registerTab:C,unregisterTab:T}=_(R,{parentDisabled:!1,tabsList:[],selectTab:e=>e,moveToTab:e=>e,registerTab:e=>e,unregisterTab:e=>e}),x=r((()=>e.disabled||h?-1:0)),P=r((()=>({color:d.value||s.value||n.value?f.value:"inherit"}))),updateSidePositions=()=>{var e,a;const t=(null===(e=i.value)||void 0===e?void 0:e.offsetLeft)||0,o=(null===(a=i.value)||void 0===a?void 0:a.offsetWidth)||0;u.value=t+o,v.value=t},onTabClick=()=>{y(k),t("click")},onTabKeydown=()=>{y(k),t("keydown-enter")},onFocus=()=>{d.value&&S(k),t("focus")},k={name:r((()=>e.name)),id:null,tabElement:i,isActive:n,tabIndexComputed:x,isActiveRouterLink:b,rightSidePosition:u,leftSidePosition:v,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus,updateSidePositions:updateSidePositions};return o((()=>{C(k)})),l((()=>{T(k)})),{tabElement:i,isActive:n,hoverState:s,hasKeyboardFocus:d,keyboardFocusListeners:c,tagComputed:m,hrefComputed:p,isActiveRouterLink:b,colorComputed:f,classComputed:g,computedStyle:P,tabIndexComputed:x,rightSidePosition:u,leftSidePosition:v,updateHoverState:e=>{s.value=e},updateSidePositions:updateSidePositions,onTabClick:onTabClick,onTabKeydown:onTabKeydown,onFocus:onFocus}}});const X=["tabindex"],W=["textContent"];O.render=function render(e,a,t,o,l,i){const n=v("va-icon");return d(),b(C(e.tagComputed),{class:m(["va-tab",e.classComputed]),ref:"tabElement",href:e.hrefComputed,target:e.target,to:e.to,replace:e.replace,exact:e.exact,"active-class":e.activeClass,"exact-active-class":e.exactActiveClass,style:g(e.computedStyle),onMouseenter:a[3]||(a[3]=a=>e.updateHoverState(!0)),onMouseleave:a[4]||(a[4]=a=>e.updateHoverState(!1))},{default:y((()=>[p("div",T({class:"va-tab__content"},x(e.keyboardFocusListeners),{tabindex:e.tabIndexComputed,onFocus:a[0]||(a[0]=a=>e.onFocus()),onClick:a[1]||(a[1]=a=>e.onTabClick()),onKeydown:a[2]||(a[2]=P((a=>e.onTabKeydown()),["enter"]))}),[S(e.$slots,"default",{},(()=>[e.icon?(d(),b(n,{key:0,class:"va-tab__icon",name:e.icon,size:"small"},null,8,["name"])):f("v-if",!0),p("span",{class:"va-tab__label",textContent:k(e.label)},null,8,W)]))],16,X)])),_:3},8,["href","target","to","replace","exact","active-class","exact-active-class","class","style"])},O.__file="src/components/va-tabs/VaTab/VaTab.vue";var D=e(O),N=e(z);export{D as VaTab,N as default};
//# sourceMappingURL=index46.mjs.map
