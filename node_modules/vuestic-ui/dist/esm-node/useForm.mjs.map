{"version":3,"file":"useForm.mjs","sources":["../../src/composables/useForm.ts"],"sourcesContent":["import { computed, PropType } from 'vue'\n\nexport interface UseFormProps {\n  disabled: boolean;\n  readonly: boolean;\n  id?: string | number;\n  name?: string | number;\n}\n\nexport const useFormProps = {\n  disabled: { type: Boolean, default: false },\n  readonly: { type: Boolean, default: false },\n}\n\nexport const useFormPropsWithId = {\n  ...useFormProps,\n  id: { type: [String, Number] as PropType<string | number>, default: undefined },\n  name: { type: [String, Number] as PropType<string | number>, default: undefined },\n}\n\nexport const useForm = (props: UseFormProps) => {\n  /**\n   * Create readonly and disabled BEM modifiers.\n   * @returns Object with classes which starts with `prefix` and ends with form state BEM modifier.\n   */\n  const createComputedClass = <Prefix extends string>(prefix: Prefix) => computed(() => ({\n    [`${prefix}--disabled`]: props.disabled,\n    [`${prefix}--readonly`]: props.readonly,\n  }) as Record<`${Prefix}--disabled` | `${Prefix}--readonly`, boolean>)\n\n  /**\n   * Create readonly and disabled BEM modifiers.\n   * @returns Object with classes which starts with `prefix` and ends with form state BEM modifier.\n   */\n  const createComputedClassArray = <Prefix extends string>(prefix: Prefix) => computed(() => (\n    [props.disabled && `${prefix}--disabled`, props.readonly && `${prefix}--readonly`]\n      .filter((c) => Boolean(c))\n  ) as Array<`${Prefix}--disabled` | `${Prefix}--readonly`>)\n\n  return {\n    createComputedClass,\n    createComputedClassArray,\n  }\n}\n"],"names":["useFormProps","disabled","type","Boolean","default","readonly","useForm","props","createComputedClass","prefix","computed","createComputedClassArray","filter","c"],"mappings":"qCASaA,EAAe,CAC1BC,SAAU,CAAEC,KAAMC,QAASC,SAAS,GACpCC,SAAU,CAAEH,KAAMC,QAASC,SAAS,IASzBE,QAAWC,IAmBf,CACLC,oBAfkDC,GAAmBC,GAAS,MAC9E,CAAC,GAAGD,eAAqBF,EAAMN,SAC/B,CAAC,GAAGQ,eAAqBF,EAAMF,aAc/BM,yBAPuDF,GAAmBC,GAAS,IACnF,CAACH,EAAMN,UAAY,GAAGQ,cAAoBF,EAAMF,UAAY,GAAGI,eAC5DG,QAAQC,GAAMV,QAAQU"}